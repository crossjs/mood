/*! mood-1.0.0 2014-03-22 13:15:53 */
define("pandora/mood/1.0.0/core",["$","pandora/widget/1.0.0/widget","pandora/class/1.0.0/class","pandora/events/1.0.0/events","pandora/widget/1.0.0/aspect"],function(a,b,c){"use strict";function d(a,b,c){e.getJSON(g.URL,a).done(b).fail(c)}var e=a("$"),f=a("pandora/widget/1.0.0/widget"),g=f.extend({setup:function(){this.params={channel:this.options.channelId,web_id:this.options.webId,kind:this.options.kindId},this.state(g.STATE.NORMAL)},load:function(){var a=e.extend({action:"0"},this.params);this.state(g.STATE.RECEIVING),d.call(this,a,e.proxy(this.done,this),e.proxy(this.fail,this))},vote:function(a){var b=e.extend({action:"1",mood:a+1},this.params);this.state(g.STATE.SENDING),d.call(this,b,e.proxy(this.done,this),e.proxy(this.fail,this))},done:function(a){this.state(g.STATE.NORMAL),"console"in window&&console.log("MOOD AJAX DONE: %O ",a)},fail:function(a,b){this.state(g.STATE.ERROR),"console"in window&&console.log("MOOD AJAX ERROR: %s ",b)}});g.STATE={ERROR:-1,NORMAL:0,RECEIVING:1,SENDING:2},g.URL="http://hits.17173.com/mood/mood_opb.php?jsonp=?",c.exports=g});